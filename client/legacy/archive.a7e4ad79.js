import{_ as t,a as n,b as e,c as r,i as c,s as o,d as i,V as s,S as a,a0 as u,e as f,f as l,g as h,j as p,k as v,m as d,q as m,a1 as g,E as y,F as x,T as $,a2 as j,y as w,a3 as E,a4 as b,U as O,t as D,z as R,h as z,A as _,n as P,p as C,B as I,C as S,D as V,a5 as G,u as k,G as F,v as T,a6 as A,N as W,$ as B,r as L,w as M}from"./client.905ace35.js";import{_ as N}from"./defineProperty.b786bad4.js";import{_ as U}from"./asyncToGenerator.5229e80b.js";function q(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var c,o=n(t);if(r){var i=n(this).constructor;c=Reflect.construct(o,arguments,i)}else c=o.apply(this,arguments);return e(this,c)}}function H(t){var n,e,r,c,o=t[7].default,i=u(o,t,t[6],null);return{c:function(){n=f("div"),i&&i.c(),this.h()},l:function(t){n=l(t,"DIV",{class:!0,style:!0});var e=h(n);i&&i.l(e),e.forEach(p),this.h()},h:function(){v(n,"class",e="__grid--masonry ".concat(t[0]?"__stretch-first":"")),v(n,"style",r="--grid-gap: ".concat(t[1],"; --col-width: ").concat(t[2],";"))},m:function(e,r){d(e,n,r),i&&i.m(n,null),t[8](n),c=!0},p:function(t,s){var a=m(s,1)[0];i&&i.p&&64&a&&g(i,o,t,t[6],a,null,null),(!c||1&a&&e!==(e="__grid--masonry ".concat(t[0]?"__stretch-first":"")))&&v(n,"class",e),(!c||6&a&&r!==(r="--grid-gap: ".concat(t[1],"; --col-width: ").concat(t[2],";")))&&v(n,"style",r)},i:function(t){c||(y(i,t),c=!0)},o:function(t){x(i,t),c=!1},d:function(e){e&&p(n),i&&i.d(e),t[8](null)}}}function J(t,n,e){var r,c,o=n.$$slots,i=void 0===o?{}:o,s=n.$$scope,a=n.stretchFirst,u=void 0!==a&&a,f=n.gridGap,l=void 0===f?"0.5em":f,h=n.colWidth,p=void 0===h?"minmax(Min(20em, 100%), 1fr)":h,v=n.items,d=void 0===v?[]:v,m=[],g=function(){var t=U(w.mark((function t(){return w.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.forEach(function(){var t=U(w.mark((function t(n){var e;return w.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=getComputedStyle(n._el).gridTemplateColumns.split(" ").length,n.items.forEach((function(t){var e=t.getBoundingClientRect().height;e!==+t.dataset.h&&(t.dataset.h=e,n.mod++)})),(n.ncol!==e||n.mod)&&(n.ncol=e,n.items.forEach((function(t){return t.style.removeProperty("margin-top")})),n.ncol>1&&n.items.slice(e).forEach((function(t,e){var r=n.items[e].getBoundingClientRect().bottom,c=t.getBoundingClientRect().top;t.style.marginTop="".concat(r+n.gap-c,"px")})),n.mod=0);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=U(w.mark((function t(n){return w.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:n.length&&"masonry"!==getComputedStyle(n[0]).gridTemplateRows&&(m=n.map((function(t){return{_el:t,gap:parseFloat(getComputedStyle(t).gridRowGap),items:E(t.childNodes).filter((function(t){return 1===t.nodeType&&-1!=+getComputedStyle(t).gridColumnEnd})),ncol:0,mod:0}})),g());case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return $((function(){(c=window).addEventListener("resize",g,!1)})),j((function(){c&&c.removeEventListener("resize",g,!1)})),t.$$set=function(t){"stretchFirst"in t&&e(0,u=t.stretchFirst),"gridGap"in t&&e(1,l=t.gridGap),"colWidth"in t&&e(2,p=t.colWidth),"items"in t&&e(4,d=t.items),"$$scope"in t&&e(6,s=t.$$scope)},t.$$.update=function(){24&t.$$.dirty&&d&&e(3,r=r),8&t.$$.dirty&&r&&y([r])},[u,l,p,r,d,g,s,i,function(t){O[t?"unshift":"push"]((function(){e(3,r=t),e(4,d)}))}]}var K=function(n){t(u,a);var e=q(u);function u(t){var n;return r(this,u),n=e.call(this),c(i(n),t,J,H,o,{stretchFirst:0,gridGap:1,colWidth:2,items:4,refreshLayout:5}),n}return s(u,[{key:"refreshLayout",get:function(){return this.$$.ctx[5]}}]),u}();function Q(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function X(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(e),!0).forEach((function(n){N(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Q(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Y(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var c,o=n(t);if(r){var i=n(this).constructor;c=Reflect.construct(o,arguments,i)}else c=o.apply(this,arguments);return e(this,c)}}function Z(t,n,e){var r=t.slice();return r[4]=n[e],r}function tt(t,n,e){var r=t.slice();return r[7]=n[e][0],r[8]=n[e][1],r}function nt(t,n,e){var r=t.slice();return r[11]=n[e],r}function et(t){var n,e,r,c,o,i,s,a,u,m,g=t[11].title[t[0].current]+"",y=t[11].date+"",x=t[11].type[t[0].current]+"";return{c:function(){n=f("a"),e=f("div"),r=D(g),c=R(),o=f("div"),i=D(y),s=R(),a=f("div"),u=D(x),m=R(),this.h()},l:function(t){n=l(t,"A",{rel:!0,href:!0,class:!0});var f=h(n);e=l(f,"DIV",{class:!0});var v=h(e);r=z(v,g),v.forEach(p),c=_(f),o=l(f,"DIV",{class:!0});var d=h(o);i=z(d,y),d.forEach(p),s=_(f),a=l(f,"DIV",{class:!0});var $=h(a);u=z($,x),$.forEach(p),m=_(f),f.forEach(p),this.h()},h:function(){v(e,"class","svelte-1z0xlx5"),v(o,"class","svelte-1z0xlx5"),v(a,"class","svelte-1z0xlx5"),v(n,"rel","prefetch"),v(n,"href","project/"+t[11].slug),v(n,"class","item svelte-1z0xlx5")},m:function(t,f){d(t,n,f),P(n,e),P(e,r),P(n,c),P(n,o),P(o,i),P(n,s),P(n,a),P(a,u),P(n,m)},p:function(t,n){1&n&&g!==(g=t[11].title[t[0].current]+"")&&C(r,g),1&n&&x!==(x=t[11].type[t[0].current]+"")&&C(u,x)},d:function(t){t&&p(n)}}}function rt(t){var n,e,r="image"==t[8].type&&function(t){var n,e;return{c:function(){n=f("img"),this.h()},l:function(t){n=l(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){n.src!==(e=t[8].src)&&v(n,"src",e),v(n,"alt",""),v(n,"class","svelte-1z0xlx5")},m:function(t,e){d(t,n,e)},p:L,d:function(t){t&&p(n)}}}(t),c="video"==t[8].type&&function(t){var n,e,r;return{c:function(){n=f("video"),e=f("source"),this.h()},l:function(t){n=l(t,"VIDEO",{autoplay:!0,muted:!0,loop:!0,class:!0});var r=h(n);e=l(r,"SOURCE",{src:!0}),r.forEach(p),this.h()},h:function(){e.src!==(r=t[8].src)&&v(e,"src",r),n.autoplay=!0,n.muted=!0,n.loop=!0,v(n,"class","svelte-1z0xlx5")},m:function(t,r){d(t,n,r),P(n,e)},p:L,d:function(t){t&&p(n)}}}(t);return{c:function(){r&&r.c(),n=R(),c&&c.c(),e=A()},l:function(t){r&&r.l(t),n=_(t),c&&c.l(t),e=A()},m:function(t,o){r&&r.m(t,o),d(t,n,o),c&&c.m(t,o),d(t,e,o)},p:function(t,n){"image"==t[8].type&&r.p(t,n),"video"==t[8].type&&c.p(t,n)},d:function(t){r&&r.d(t),t&&p(n),c&&c.d(t),t&&p(e)}}}function ct(t){for(var n,e,r=Object.entries(t[4].media),c=[],o=0;o<r.length;o+=1)c[o]=rt(tt(t,r,o));return{c:function(){n=f("div");for(var t=0;t<c.length;t+=1)c[t].c();e=R(),this.h()},l:function(t){n=l(t,"DIV",{class:!0});for(var r=h(n),o=0;o<c.length;o+=1)c[o].l(r);e=_(r),r.forEach(p),this.h()},h:function(){v(n,"class","photoset svelte-1z0xlx5")},m:function(t,r){d(t,n,r);for(var o=0;o<c.length;o+=1)c[o].m(n,null);P(n,e)},p:function(t,o){if(4&o){var i;for(r=Object.entries(t[4].media),i=0;i<r.length;i+=1){var s=tt(t,r,i);c[i]?c[i].p(s,o):(c[i]=rt(s),c[i].c(),c[i].m(n,e))}for(;i<c.length;i+=1)c[i].d(1);c.length=r.length}},d:function(t){t&&p(n),k(c,t)}}}function ot(t){for(var n,e=t[2],r=[],c=0;c<e.length;c+=1)r[c]=ct(Z(t,e,c));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();n=A()},l:function(t){for(var e=0;e<r.length;e+=1)r[e].l(t);n=A()},m:function(t,e){for(var c=0;c<r.length;c+=1)r[c].m(t,e);d(t,n,e)},p:function(t,c){if(4&c){var o;for(e=t[2],o=0;o<e.length;o+=1){var i=Z(t,e,o);r[o]?r[o].p(i,c):(r[o]=ct(i),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}},d:function(t){k(r,t),t&&p(n)}}}function it(t){for(var n,e,r,c,o,i,s,a,u,g,$=t[1],j=[],w=0;w<$.length;w+=1)j[w]=et(nt(t,$,w));return a=new K({props:{colWidth:"minmax(Min(320px, 100%), 1fr);",$$slots:{default:[ot]},$$scope:{ctx:t}}}),{c:function(){n=f("main"),e=f("div"),r=f("h1"),c=D("Archive"),o=R(),i=f("div");for(var t=0;t<j.length;t+=1)j[t].c();s=R(),I(a.$$.fragment),this.h()},l:function(t){n=l(t,"MAIN",{class:!0});var u=h(n);e=l(u,"DIV",{class:!0});var f=h(e);r=l(f,"H1",{class:!0});var v=h(r);c=z(v,"Archive"),v.forEach(p),o=_(f),i=l(f,"DIV",{class:!0});for(var d=h(i),m=0;m<j.length;m+=1)j[m].l(d);d.forEach(p),s=_(f),S(a.$$.fragment,f),f.forEach(p),u.forEach(p),this.h()},h:function(){v(r,"class","title svelte-1z0xlx5"),v(i,"class","list svelte-1z0xlx5"),v(e,"class","wrapper svelte-1z0xlx5"),v(n,"class","svelte-1z0xlx5")},m:function(t,u){d(t,n,u),P(n,e),P(e,r),P(r,c),P(e,o),P(e,i);for(var f=0;f<j.length;f+=1)j[f].m(i,null);P(e,s),V(a,e,null),g=!0},p:function(t,n){var e=m(n,1)[0];if(3&e){var r;for($=t[1],r=0;r<$.length;r+=1){var c=nt(t,$,r);j[r]?j[r].p(c,e):(j[r]=et(c),j[r].c(),j[r].m(i,null))}for(;r<j.length;r+=1)j[r].d(1);j.length=$.length}var o={};16384&e&&(o.$$scope={dirty:e,ctx:t}),a.$set(o)},i:function(t){g||(y(a.$$.fragment,t),W((function(){u||(u=G(n,B,{},!0)),u.run(1)})),g=!0)},o:function(t){x(a.$$.fragment,t),u||(u=G(n,B,{},!1)),u.run(0),g=!1},d:function(t){t&&p(n),k(j,t),F(a),t&&u&&u.end()}}}function st(){return at.apply(this,arguments)}function at(){return(at=U(w.mark((function t(){var n,e,r;return w.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetch("project.json").then((function(t){return t.json()})).then((function(t){return{projects:t}}));case 2:return n=t.sent,t.next=5,this.fetch("experiments.json").then((function(t){return t.json()})).then((function(t){return{experiments:t}}));case 5:return e=t.sent,r=X(X({},e),n),t.abrupt("return",{archive:r});case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ut(t,n,e){var r;T(t,M,(function(t){return e(0,r=t)}));var c=n.archive,o=c.projects,i=c.experiments;return t.$$set=function(t){"archive"in t&&e(3,c=t.archive)},[r,o,i,c]}var ft=function(n){t(s,a);var e=Y(s);function s(t){var n;return r(this,s),n=e.call(this),c(i(n),t,ut,it,o,{archive:3}),n}return s}();export default ft;export{st as preload};
